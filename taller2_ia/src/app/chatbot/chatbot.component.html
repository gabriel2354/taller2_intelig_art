<div class="app-container">
  <!-- Sidebar izquierda -->
  <aside class="sidebar">
    <div class="sidebar-header">
      🤖 ChatBot IA
    </div>

    <button class="new-chat">➕ Nuevo chat</button>

 
    <!-- Barra de configuración -->
    <div class="settings-bar">
      <button title="Configuración">⚙️ Configuración</button>
    </div>
  </aside>

  <!-- Contenido derecho: el chat -->
  <main class="chat-wrapper">
    <div class="chat-header">ChatBot IA 🤖</div>

    <div class="chat-window">
      <div *ngFor="let msg of messages" class="chat-message" [ngClass]="msg.sender">
        <div class="avatar">{{ msg.sender === 'user' ? '👤' : '🤖' }}</div>
        <div class="message-content">
          <div *ngIf="msg.type === 'text'" class="text">{{ msg.content }}</div>
          <div *ngIf="msg.type === 'image'" class="image">
            <img [src]="msg.content" alt="imagen subida" />
          </div>
        </div>
      </div>

      <div *ngIf="isBotTyping" class="chat-message bot">
        <div class="avatar">🤖</div>
        <div class="message-content typing-dots">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
      </div>
    </div>

    <div class="input-bar">
      <input
        type="text"
        [(ngModel)]="userInput"
        placeholder="Escribe un mensaje..."
      />
      <input
        type="file"
        #imageInput
        hidden
        (change)="onImageSelected($event)"
        accept="image/*"
      />
      <button (click)="sendMessage()" title="Enviar mensaje">📤</button>
      <button (click)="triggerImageUpload()" title="Subir imagen">🖼️</button>
    </div>
  </main>
</div>
